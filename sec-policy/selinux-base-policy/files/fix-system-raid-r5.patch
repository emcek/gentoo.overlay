--- refpolicy.orig/policy/modules/system/raid.te	2010-08-03 15:11:04.000000000 +0200
+++ refpolicy/policy/modules/system/raid.te	2011-01-31 19:28:07.865000084 +0100
@@ -69,6 +69,9 @@
 storage_dev_filetrans_fixed_disk(mdadm_t)
 storage_read_scsi_generic(mdadm_t)
 
+allow mdadm_t device_t:blk_file { read ioctl };
+allow mdadm_t device_t:dir { create };
+
 term_dontaudit_list_ptys(mdadm_t)
 
 init_dontaudit_getattr_initctl(mdadm_t)
@@ -83,6 +86,12 @@
 
 mta_send_mail(mdadm_t)
 
+ifdef(`distro_gentoo',`
+	tunable_policy(`gentoo_try_dontaudit',`
+		files_dontaudit_getattr_all_files(mdadm_t)
+	')
+')
+
 optional_policy(`
 	gpm_dontaudit_getattr_gpmctl(mdadm_t)
 ')
